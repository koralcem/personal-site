<html>
<head>
  <title>7 Wonders Score Sheet</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <base href="http://cemschemel.com/" />
  <link rel="stylesheet" href="styles/7WondersStyle.css" type="text/css" />

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  
  <script type="text/javascript">
    function updateScore(event) {
    //select all the fields  with the same class as whoever called for the update, and add their scores
    var currentPlayer = event.target.getAttribute("class")  //this gives you the box's class as a string, which should be the player number
    var totalScore = 0;
    
    //loop through all the textboxes belonging to this player (selected via their class attributes)
    $("." + currentPlayer).each(function(index, element) {  
      var currentBoxScore = parseInt(element.value);
      if(isNaN(currentBoxScore))
      {
        currentBoxScore = 0;
      }
      totalScore += currentBoxScore;
    });

    $("." + currentPlayer + "_Total").attr("value", totalScore);
  }
  
  </script>
  
</head>
<body>

   <table id="7WondersScoring">
      <tr>
        <th />
        <td><input type="text" value="Player 1" size="5"/></td>
        <td><input type="text" value="Player 2" size="5"/></td>
        <td><input type="text" value="Player 3" size="5"/></td>
        <td><input type="text" value="Player 4" size="5"/></td>
        <td><input type="text" value="Player 5" size="5"/></td>
        <td><input type="text" value="Player 6" size="5"/></td>
        <td><input type="text" value="Player 7" size="5"/></td>
      </tr>

      <tr>
        <td>Military (Token total)</td>
        <td><input type="text" class="Player1" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player2" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player3" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player4" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player5" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player6" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player7" onblur="updateScore(event)" size="5" value="0" /></td>
      </tr>
      
      <tr>
        <td>Treasury</td>
        <td><input type="text" class="Player1" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player2" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player3" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player4" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player5" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player6" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player7" onblur="updateScore(event)" size="5" value="0" /></td>
      </tr>
      
      <tr>
        <td>Wonder</td>
        <td><input type="text" class="Player1" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player2" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player3" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player4" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player5" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player6" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player7" onblur="updateScore(event)" size="5" value="0" /></td>
      </tr>
      
      <tr>
        <td>Civilian (Blue cards)</td>
        <td><input type="text" class="Player1" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player2" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player3" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player4" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player5" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player6" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player7" onblur="updateScore(event)" size="5" value="0" /></td>
      </tr>
      
      <tr>
        <td>Commerce (Yellow cards)</td>
        <td><input type="text" class="Player1" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player2" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player3" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player4" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player5" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player6" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player7" onblur="updateScore(event)" size="5" value="0" /></td>
      </tr>
      
      <tr>
        <td>Guilds (Purple cards)</td>
        <td><input type="text" class="Player1" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player2" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player3" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player4" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player5" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player6" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player7" onblur="updateScore(event)" size="5" value="0" /></td>
      </tr>
      
      <tr>
        <td>Science (Green cards)</td>
        <td><input type="text" class="Player1" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player2" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player3" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player4" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player5" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player6" onblur="updateScore(event)" size="5" value="0" /></td>
        <td><input type="text" class="Player7" onblur="updateScore(event)" size="5" value="0" /></td>
      </tr>
      
      <tr>
        <td><strong>Total score</strong></td>
        <td><input type="text" class="Player1_Total" size="5" value="0" /></td>
        <td><input type="text" class="Player2_Total" size="5" value="0" /></td>
        <td><input type="text" class="Player3_Total" size="5" value="0" /></td>
        <td><input type="text" class="Player4_Total" size="5" value="0" /></td>
        <td><input type="text" class="Player5_Total" size="5" value="0" /></td>
        <td><input type="text" class="Player6_Total" size="5" value="0" /></td>
        <td><input type="text" class="Player7_Total" size="5" value="0" /></td>
      </tr>
      
    </table>
  
</body>
</html>
